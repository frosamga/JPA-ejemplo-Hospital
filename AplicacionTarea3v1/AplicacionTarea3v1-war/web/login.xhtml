<ui:composition template="/WEB-INF/templates/plantilla.xhtml" 
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <ui:define name="title">Autenticando</ui:define>
    <ui:define name="content">
        <h1>Sistema Sanitario Virtual</h1>
        <c:choose>
            <c:when test="#{empty controlAutorizacion.usuario}">
                <h:form id="login">
                    <h:panelGrid columns="2">
                        <h:outputLabel value="Usuario"/>
                        <h:inputText value="#{login.usuario.nombre}"/>
                        <h:outputLabel value="Contraseña"/>
                        <h:inputSecret value="#{login.usuario.password}"/>
                    </h:panelGrid>
                    <h:commandButton value="Autenticar" action="#{login.autenticar()}"/>
                    <h:commandLink value="Registrar" action="registrar.xhtml"/>
                </h:form>
            </c:when>
            <c:otherwise>
                <p>Debe salir de la aplicación si quiere entrar como otro usuario</p>
            </c:otherwise>
        </c:choose>
        <h:messages/>
    </ui:define>
</ui:composition>